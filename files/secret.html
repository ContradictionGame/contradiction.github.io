<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tobycartobycar</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: black;
        }

        #dog-container {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 10px;
        }

        .dog {
            width: 100px;
            height: auto;
            position: absolute;
        }
    </style>
</head>
<body>
    <audio id="background-audio" src="alarm_titlescreen.mp3" loop></audio>
    <script>
        const audioElement = document.getElementById('background-audio');

        // Restore playback position on page load
        window.addEventListener('load', () => {
            const savedTime = localStorage.getItem('audioTime');
            if (savedTime) {
                audioElement.currentTime = parseFloat(savedTime);
            }
            audioElement.play().catch((error) => {
                console.log("Autoplay blocked, waiting for user interaction...");
                const userActionHandler = () => {
                    audioElement.play();
                    window.removeEventListener('click', userActionHandler);
                    window.removeEventListener('touchstart', userActionHandler);
                };
                window.addEventListener('click', userActionHandler);
                window.addEventListener('touchstart', userActionHandler);
            });
        });

        // Save playback position before page unload
        window.addEventListener('beforeunload', () => {
            localStorage.setItem('audioTime', audioElement.currentTime);
        });
    </script>
    <div id="dog-container"></div>

    <script>
        const dogContainer = document.getElementById('dog-container');
        const screenWidth = window.innerWidth;
        const screenHeight = window.innerHeight;

        // Dog driving animation
        function animateDog(dog) {
            dog.style.top = `${Math.random() * (screenHeight - 100)}px`;
            dog.style.left = `-${dog.offsetWidth}px`; // Start from off-screen on the left
            dogContainer.appendChild(dog);

            const duration = Math.random() * 2000 + 3000; // Random duration between 2s and 5s for faster movement
            dog.style.transition = `left ${duration}ms linear`;
            dog.style.left = `${screenWidth}px`; // Move to off-screen on the right

            // Restart animation after it reaches the end
            setTimeout(() => {
                dogContainer.removeChild(dog);
                animateDog(dog);
            }, duration);
        }

        // Create and animate a single dog
        function createDog() {
            const dog = document.createElement('img');
            dog.src = 'dog_car.png'; // Replace with your dog car image
            dog.className = 'dog';
            animateDog(dog);
        }

        // Continuously create dogs at intervals
        function startDogs() {
            setInterval(createDog, 1000); // Create a new dog every second
        }

        // Start the dog animation
        startDogs();
    </script>
</body>
</html>
